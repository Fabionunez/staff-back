(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{160:function(e,a,t){},162:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(21),s=t.n(l),m=t(165),o=t(4),c=t(5),i=t(7),d=t(6),u=t(8),p=t(167),h=t(166),g=t(29),E=t(164),v=t(15),y=t.n(v),b=new(function(){function e(){Object(o.a)(this,e),this.auth=y.a.create({baseURL:"https://staff-ironhack.herokuapp.com",withCredentials:!0})}return Object(c.a)(e,[{key:"signup",value:function(e){var a=e.name,t=e.surname,n=e.corporateName,r=e.username,l=e.password,s=e.imageUrl;return this.auth.post("/signup",{name:a,surname:t,corporateName:n,username:r,password:l,imageUrl:s}).then(function(e){return e.data})}},{key:"login",value:function(e){var a=e.username,t=e.password;return this.auth.post("/login",{username:a,password:t}).then(function(e){return e.data})}},{key:"logout",value:function(){return this.auth.post("/logout",{}).then(function(e){return e.data})}},{key:"me",value:function(e){return this.auth.get("/me").then(function(e){return e.data})}}]),e}()),f=r.a.createContext(),N=f.Provider,C=f.Consumer,w=function(e){return function(a){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,a),Object(c.a)(t,[{key:"render",value:function(){var a=this;return r.a.createElement(C,null,function(t){return r.a.createElement(e,Object.assign({isLogged:t.isLogged,user:t.user,logout:t.logout,login:t.login,signup:t.signup},a.props))})}}]),t}(n.Component)},x=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={isLogged:!1,user:{},status:"loading"},t.setUser=function(e){t.setState({isLogged:!0,user:e})},t.logoutUser=function(){return b.logout().then(function(){t.setState({isLogged:!1,user:{}})}).catch(function(e){return console.log(e)})},t.loginUser=function(e){return b.login(e).then(function(e){t.setUser(e)}).catch(function(e){return console.log(e)})},t.signupUser=function(e){return b.signup(e).then(function(e){t.setUser(e)}).catch(function(e){return console.log(e)})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.me().then(function(a){e.setState({isLogged:!0,user:a,status:"loaded"})}).catch(function(a){e.setState({isLogged:!1,user:{},status:"loaded"})})}},{key:"render",value:function(){var e=this.state,a=e.isLogged,t=e.user,n=e.status,l=this.props.children;switch(n){case"loading":return r.a.createElement("div",null,"Loading");default:return r.a.createElement(N,{value:{isLogged:a,user:t,logout:this.logoutUser,login:this.loginUser,signup:this.signupUser}},l)}}}]),a}(n.Component),S=w(function(e){var a=e.component,t=e.isLogged,n=Object(g.a)(e,["component","isLogged"]);return r.a.createElement(h.a,Object.assign({},n,{render:function(e){return t?r.a.createElement(a,e):r.a.createElement(E.a,{to:{pathname:"/",state:{from:e.location}}})}}))}),I=w(function(e){var a=e.component,t=e.isLogged,n=Object(g.a)(e,["component","isLogged"]);return r.a.createElement(h.a,Object.assign({},n,{render:function(e){return t?r.a.createElement(E.a,{to:{pathname:"/employees",state:{from:e.location}}}):r.a.createElement(a,e)}}))}),k=t(163),j=new(function(){function e(){Object(o.a)(this,e),this.auth=y.a.create({baseURL:"https://staff-ironhack.herokuapp.com",withCredentials:!0})}return Object(c.a)(e,[{key:"employeesList",value:function(){return this.auth.get("/employee").then(function(e){return e.data})}},{key:"employeeAdd",value:function(e){var a=e.username,t=e.password,n=e.name,r=e.surname,l=e.title,s=e.companyPhone,m=e.dateStart,o=e.birthDate,c=e.gender,i=e.nationality,d=e.phone,u=e.identificationNumber,p=e.socialSecurityNumber,h=e.address,g=e.city,E=e.postalCode,v=e.province,y=e.country,b=e.emergencyContact,f=e.emergencyPhone,N=e.managerID;return""===e.imageUrl&&(e.imageUrl="https://res.cloudinary.com/fabionunez/image/upload/v1558806598/staff/user2_e4pwrt.svg"),this.auth.post("/employee/add",{username:a,password:t,name:n,surname:r,title:l,companyPhone:s,dateStart:m,birthDate:o,gender:c,nationality:i,phone:d,identificationNumber:u,socialSecurityNumber:p,address:h,city:g,postalCode:E,province:v,country:y,emergencyContact:b,emergencyPhone:f,managerID:N,imageUrl:e.imageUrl}).then(function(e){return e.data})}},{key:"employeeView",value:function(e){return this.auth.get("/employee/view/".concat(e)).then(function(e){return e.data})}},{key:"employeeViewEdit",value:function(e){return this.auth.get("/employee/edit/".concat(e)).then(function(e){return e.data})}},{key:"employeeUpdate",value:function(e){var a=e.id,t=e.username,n=e.password,r=e.name,l=e.surname,s=e.title,m=e.companyPhone,o=e.dateStart,c=e.birthDate,i=e.gender,d=e.nationality,u=e.phone,p=e.identificationNumber,h=e.socialSecurityNumber,g=e.address,E=e.city,v=e.postalCode,y=e.province,b=e.country,f=e.emergencyContact,N=e.emergencyPhone,C=e.managerID;return""===e.imageUrl&&(e.imageUrl="https://res.cloudinary.com/fabionunez/image/upload/v1558806598/staff/user2_e4pwrt.svg"),this.auth.put("/employee/edit",{id:a,username:t,password:n,name:r,surname:l,title:s,companyPhone:m,dateStart:o,birthDate:c,gender:i,nationality:d,phone:u,identificationNumber:p,socialSecurityNumber:h,address:g,city:E,postalCode:v,province:y,country:b,emergencyContact:f,emergencyPhone:N,managerID:C,imageUrl:e.imageUrl}).then(function(e){return e.data})}},{key:"employeeDelete",value:function(e){return this.auth.delete("/employee/delete/".concat(e)).then(function(e){return e.data})}},{key:"imageUpload",value:function(e){return this.auth.post("/employee/image",e).then(function(e){return e.data})}}]),e}()),O=t(24),D=t.n(O),U=t(51),T=t.n(U),P=t(52),A=t.n(P),F=t(53),M=t.n(F),L=t(54),_=t.n(L),z=t(55),q=t.n(z),R=t(56),V=t.n(R),K=function(e){function a(){return Object(o.a)(this,a),Object(i.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.props.pathname,a=this.props,t=a.user,n=a.logout;return r.a.createElement("div",{className:this.props.classMenu,id:"sidebarCollapse"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(k.a,{onClick:this.props.clickMenuItem,className:"/employees"===e?"nav-link active":"nav-link",to:"/employees",role:"button","aria-expanded":"true","aria-controls":"sidebarDashboards"},r.a.createElement(T.a,{size:25,className:"pr-2"})," Employees")),t.isAdmin?r.a.createElement("li",{className:"nav-item"},r.a.createElement(k.a,{onClick:this.props.clickMenuItem,to:"/company",className:"/company"===e?"nav-link active":"nav-link"},r.a.createElement(A.a,{size:25,className:"pr-2"})," Company")):"",t.isAdmin?r.a.createElement("li",{className:"nav-item"},r.a.createElement(k.a,{onClick:this.props.clickMenuItem,to:"/teams",className:"/teams"===e?"nav-link active":"nav-link"},r.a.createElement(M.a,{size:25,className:"pr-2"})," Teams")):"",t.isAdmin?r.a.createElement("li",{className:"nav-item"},r.a.createElement(k.a,{onClick:this.props.clickMenuItem,to:"/stats",className:"/stats"===e?"nav-link active":"nav-link"},r.a.createElement(V.a,{size:25,className:"pr-2"})," Stats ",r.a.createElement("span",{className:"badge badge-soft-success ml-auto"},"soon"))):"",r.a.createElement("li",{className:"nav-item"},r.a.createElement(k.a,{onClick:this.props.clickMenuItem,to:"/employee/edit/".concat(t._id),className:e==="/employee/edit/".concat(t._id)?"nav-link active":"nav-link"},r.a.createElement(_.a,{size:25,className:"pr-2"})," Settings")),r.a.createElement("li",{onClick:this.props.clickMenuItem,className:"nav-item"},r.a.createElement("a",{href:"/",className:"nav-link",onClick:n},r.a.createElement(q.a,{size:25,className:"pr-2"})," Logout"))))}}]),a}(n.Component),W=w(function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={showMenu:!1,classMenu:"collapse navbar-collapse"},t.toogleMenu=function(){!1===t.state.showMenu?t.setState({showMenu:!0,classMenu:"collapse navbar-collapse show menuheight"}):t.setState({showMenu:!1,classMenu:"collapse navbar-collapse"})},t.clickMenuItem=function(){t.setState({showMenu:!1,classMenu:"collapse navbar-collapse"})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement("nav",{className:"navbar navbar-vertical fixed-left navbar-expand-md navbar-light",id:"sidebar"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("button",{onClick:this.toogleMenu,className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#sidebarCollapse","aria-controls":"sidebarCollapse","aria-expanded":"true","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement(k.a,{to:"/",className:"navbar-brand",href:"index.html"},r.a.createElement("img",{src:"/img/logo.svg",className:"navbar-brand-img mx-auto",alt:"..."})),r.a.createElement("div",{className:"navbar-user d-md-none"},r.a.createElement("div",{className:"dropdown"},r.a.createElement(k.a,{to:"/employee/edit/".concat(e._id),id:"sidebarIcon",className:"dropdown-toggle",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("div",{className:"avatar avatar-sm"},r.a.createElement("img",{src:e.imageUrl,className:"avatar-img rounded-circle",alt:"..."}))))),r.a.createElement(K,Object.assign({},this.props,{classMenu:this.state.classMenu,toogleMenu:this.toogleMenu,clickMenuItem:this.clickMenuItem}))))}}]),a}(n.Component));var G=w(function(e){return r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light d-none d-md-flex",id:"topbar"},r.a.createElement("div",{className:"container-fluid d-flex justify-content-end"},r.a.createElement("div",{className:"navbar-user  pr-5"},r.a.createElement("div",{className:"dropdown"},r.a.createElement(k.a,{to:"/employee/edit/".concat(e._id),className:"avatar avatar-sm dropdown-toggle",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("img",{src:e.imageUrl,alt:"...",className:"avatar-img rounded-circle  mr-2"}),e.name),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},r.a.createElement("a",{href:"profile-posts.html",className:"dropdown-item"},"Profile"),r.a.createElement("a",{href:"settings.html",className:"dropdown-item"},"Settings"),r.a.createElement("hr",{className:"dropdown-divider"}),r.a.createElement("a",{href:"sign-in.html",className:"dropdown-item"},"Logout"))))))}),B=t(25),Z=t.n(B),J=t(26),H=t.n(J),Y=t(57),Q=t.n(Y),X=t(27),$=t.n(X);function ee(e){var a=function(a){return!!e.isAdmin||a===e.sessionId};return r.a.createElement("li",{className:"list-group-item px-0"},r.a.createElement($.a,{className:"custom-tooltip"}),r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-auto ml-4"},r.a.createElement(k.a,{to:a(e.idItem)?"/employee/edit/".concat(e.idItem):"/employee/view/".concat(e.idItem),className:"avatar"},r.a.createElement("img",{src:e.imageUrl,alt:"...",className:"avatar-img rounded-circle"}),e.isItenAdmin?r.a.createElement("div",{className:"adminBadge","data-tip":"Administrator"},r.a.createElement(Q.a,{size:22,color:"white",className:"adminBadgeIcon"})):"")),r.a.createElement("div",{className:"col ml-n2"},r.a.createElement("h4",{className:"mb-1 name"},r.a.createElement(k.a,{className:"stretched-link",to:a(e.idItem)?"/employee/edit/".concat(e.idItem):"/employee/view/".concat(e.idItem)}," ",e.name," ",e.surname)),r.a.createElement("p",{className:"small mb-0"},e.title)),e.userCanDelete()&&!e.isItenAdmin?r.a.createElement("div",{className:"col-auto pr-5"},r.a.createElement("button",{className:"btn btn-sm btn-white",onClick:function(){return e.handleDeleting(e.idItem)},title:"Delete employee"},r.a.createElement(H.a,{color:"grey",size:15}))):""))}function ae(e){var a=e.employees.filter(function(a){return(a.name+" "+a.surname).toLowerCase().includes(e.keyword.toLowerCase())});return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("form",null,r.a.createElement("div",{className:"input-group input-group-flush input-group-merge"},r.a.createElement("input",{id:"search-employees",onChange:e.updateKeyword,type:"search",className:"form-control form-control-prepended search",placeholder:"Search"}),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},r.a.createElement(Z.a,{size:18})))))),r.a.createElement("div",{className:"card-body pl-0 pr-0 "},r.a.createElement("ul",{className:"list-group list-group-flush list my-n3"},"  ",a.map(function(a){return r.a.createElement(ee,{key:"EmployeeItem-".concat(a._id),name:a.name,surname:a.surname,title:a.title,idItem:a._id,sessionId:e._id,imageUrl:a.imageUrl,isItenAdmin:a.isAdmin,isAdmin:e.isAdmin,handleDeleting:e.handleDeleting,getAllEmployees:e.getAllEmployees,userCanDelete:e.userCanDelete})})),0===a.length&&e.keyword.length>0?r.a.createElement("p",{className:"text-center pt-5 text-muted"},"No employees found"):""))}var te=w(function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={employees:[],keyword:"",filterEmployees:[]},t.getAllEmployees=function(){j.employeesList().then(function(e){t.setState({employees:e})}).catch(function(e){return console.log(e)})},t.updateKeyword=function(e){t.setState({keyword:e.target.value})},t.userCanDelete=function(){var e=t.props.user.isAdmin;return e||null},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getAllEmployees()}},{key:"handleDeleting",value:function(e){var a=this;j.employeeDelete(e).then(function(e){a.getAllEmployees()}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",null,r.a.createElement(W,{pathname:this.props.location.pathname}),r.a.createElement("div",{className:"main-content"},r.a.createElement(G,e),r.a.createElement("div",{className:"main-content-padding"},r.a.createElement("div",{className:"header-body header-employees"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h6",{className:"header-pretitle"},"All"),r.a.createElement("h1",{className:"header-title"},"Employees ",r.a.createElement("span",{className:"badge badge-soft-secondary",style:{fontSize:"10px"}},this.state.employees.length))),e.isAdmin?r.a.createElement("div",{className:"col-auto"},r.a.createElement(k.a,{to:"/employee/add",className:"btn btn-primary"},r.a.createElement(D.a,{size:20,color:"white",className:"mr-2"}),"Add employee ")):"")),r.a.createElement(ae,Object.assign({},this.state,e,{userCanDelete:this.userCanDelete,updateKeyword:this.updateKeyword,handleDeleting:this.handleDeleting,getAllEmployees:this.getAllEmployees})))))}}]),a}(n.Component)),ne=t(12),re=t(1),le=t(16),se=t.n(le),me=t(58),oe=t.n(me),ce=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(d.a)(a).call(this,e))).handleChange=function(e){t.checkError(),t.props.onChange&&t.props.onChange(e)},t.inputRef=r.a.createRef(),t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"getInputRef",value:function(){return this.inputRef.current.inputElement}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,Object.assign({ref:this.inputRef},this.filterProps(),{onChange:this.handleChange})),this.displayErrorMessage(),this.displaySuccessMessage())}}]),a}(re.BaseFormControl),ie=w(function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={username:"",password:"",name:"",surname:"",title:"",companyPhone:"",dateStart:"",birthDate:"",gender:"",nationality:"",phone:"",identificationNumber:"",socialSecurityNumber:"",address:"",city:"",postalCode:"",province:"",country:"",emergencyContact:"",emergencyPhone:"",managerID:"",imageUrl:"",submitDisabled:!1,userExists:!1,employees:[]},t.handleChange=function(e){t.setState(Object(ne.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e,a,n){e.preventDefault();var r=t.state,l=r.username,s=r.password,m=r.name,o=r.surname,c=r.title,i=r.companyPhone,d=r.dateStart,u=r.birthDate,p=r.gender,h=r.nationality,g=r.phone,E=r.identificationNumber,v=r.socialSecurityNumber,y=r.address,b=r.city,f=r.postalCode,N=r.province,C=r.country,w=r.emergencyContact,x=r.emergencyPhone,S=r.managerID,I=r.imageUrl;j.employeeAdd({username:l,password:s,name:m,surname:o,title:c,companyPhone:i,dateStart:d,birthDate:u,gender:p,nationality:h,phone:g,identificationNumber:E,socialSecurityNumber:v,address:y,city:b,postalCode:f,province:N,country:C,emergencyContact:w,emergencyPhone:x,managerID:S,imageUrl:I}).then(function(e){e.userExists?(window.scrollTo(0,0),t.setState({userExists:e.userExists})):t.props.history.push("/employees")}).catch(function(e){return console.log(e)})},t.fileOnchange=function(e){var a=e.target.files[0],n=new FormData;n.append("photo",a),t.setState({submitDisabled:!0}),j.imageUpload(n).then(function(e){t.setState({imageUrl:e,submitDisabled:!1,submitText:"Save changes"})}).catch(function(e){return console.log(e)})},t.handleErrorSubmit=function(e,a,t){console.error(t)},t.matchPassword=function(e){return e&&e===t.state.password},t.handleChangeDates=function(e){t.setState({birthDate:e})},t.componentDidMount=function(){j.employeesList().then(function(e){t.setState({employees:e})}).catch(function(e){return console.log(e)})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this,a=this.props.user;return r.a.createElement("div",null,r.a.createElement(W,{pathname:this.props.location.pathname}),r.a.createElement("div",{className:"main-content"},r.a.createElement(G,a),r.a.createElement("div",{className:"main-content-padding"},r.a.createElement("div",{className:"header-body mb-5"},r.a.createElement("h6",{className:"header-pretitle"},"Add"),r.a.createElement("h1",{className:"header-title"},"New employee")),r.a.createElement("div",{className:"container p-0 m-0"},r.a.createElement(re.ValidationForm,{onSubmit:this.handleSubmit,onErrorSubmit:this.handleErrorSubmit,style:{maxWidth:"800px"}},r.a.createElement("input",{type:"hidden",id:"id",name:"id",value:this.props.match.params.id}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col",style:{maxWidth:"150px"}},r.a.createElement("div",{className:"avatar avatar-xxl"},r.a.createElement("img",{src:""===this.state.imageUrl?"https://res.cloudinary.com/fabionunez/image/upload/v1558793227/staff/user_swbbnl.svg":this.state.imageUrl,alt:"...",className:"avatar-img rounded-circle"}))),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0 pt-3"},r.a.createElement("label",{htmlFor:"imageUrl"},"Profile image  ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.FileInput,{name:"imageUrl",id:"imageUrl",onChange:this.fileOnchange,fileType:["jpg","png","jpeg"],maxFileSize:"1000 kb",errorMessage:{fileType:"Only pdf and excel is allowed",maxFileSize:"Max file size is 1000 kb"}}),r.a.createElement("small",{className:"form-text text-muted pt-3"},"The image file should be under 1Mb"))),r.a.createElement("hr",{className:"mt-4 mb-5"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement(re.TextInput,{name:"name",id:"name",required:!0,value:this.state.name,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"surname"},"Surnames"),r.a.createElement(re.TextInput,{name:"surname",id:"surname",minLength:"4",value:this.state.surname,onChange:this.handleChange}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"dateStart"},"Start date"),r.a.createElement(ce,{name:"dateStart",className:"form-control",required:!0,validator:function(e){return e.search("_")<0},value:this.state.dateStart,onChange:this.handleChange,errorMessage:{validator:"Please enter dd/mm/yyyy"},mask:[/[0-3]/,/[1-9]/,"/",/[0-1]/,/[0-9]/,"/",/[1-2]/,/[0-9]/,/[0-9]/,/[0-9]/]})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{className:"pb-2"},"Gender"),r.a.createElement(re.Radio.RadioGroup,{name:"gender",required:!0,valueSelected:this.state.gender,onChange:this.handleChange},">",r.a.createElement(re.Radio.RadioItem,{id:"male",name:"male",value:"male",label:"Male"}),r.a.createElement(re.Radio.RadioItem,{id:"female",name:"female",value:"female",label:"Female"})))),r.a.createElement("hr",{className:"mt-4 mb-5"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement(re.TextInput,{name:"title",id:"title",minLength:"4",value:this.state.title,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"companyPhone"},"Company phone ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(ce,{name:"companyPhone",className:"form-control",validator:function(e){return e.search("_")<0},value:this.state.companyPhone,onChange:this.handleChange,errorMessage:{validator:"Use this format 000 000 000"},mask:[/[0-9]/,/[0-9]/,/[0-9]/," ",/[0-9]/,/[0-9]/,/[0-9]/," ",/[0-9]/,/[0-9]/,/[0-9]/]}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"username"},"Email"),r.a.createElement(re.TextInput,{name:"username",id:"username",type:"email",validator:se.a.isEmail,errorMessage:{validator:"Please enter a valid email"},value:this.state.username,onChange:this.handleChange}),this.state.userExists?r.a.createElement("small",{className:"text-danger"},"User already exist"):""),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"password"},"Create a password"),r.a.createElement(re.TextInput,{name:"password",id:"password",type:"password",required:!0,pattern:"(?=.*[A-Z]).{6,}",errorMessage:{required:"Password is required",pattern:"Password should be at least 6 characters and contains at least one upper case letter"},value:this.state.password,onChange:this.handleChange}))),r.a.createElement("hr",{className:"mt-4 mb-5"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"identificationNumber"},"Identification Number ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"identificationNumber",id:"identificationNumber",value:this.state.identificationNumber,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"socialSecurityNumber"},"Social security Number ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"socialSecurityNumber",id:"socialSecurityNumber",value:this.state.socialSecurityNumber,onChange:this.handleChange}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"phone"},"Personal phone ",r.a.createElement("small",{className:"text-muted"},"(optional)")," "),r.a.createElement(ce,{name:"phone",className:"form-control",validator:function(e){return e.search("_")<0},value:this.state.phone,onChange:this.handleChange,errorMessage:{validator:"Use this format 000 000 000"},mask:[/[0-9]/,/[0-9]/,/[0-9]/," ",/[0-9]/,/[0-9]/,/[0-9]/," ",/[0-9]/,/[0-9]/,/[0-9]/]})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"birthDate"},"Birth date  ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(ce,{name:"birthDate",className:"form-control",validator:function(e){return e.search("_")<0},value:this.state.birthDate,onChange:this.handleChange,errorMessage:{validator:"Please enter dd/mm/yyyy"},mask:[/[0-3]/,/[1-9]/,"/",/[0-1]/,/[0-9]/,"/",/[1-2]/,/[0-9]/,/[0-9]/,/[0-9]/]}))),r.a.createElement("hr",{className:"mt-4 mb-5"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"address"},"Address ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"address",id:"address",value:this.state.address,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"city"},"City ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"city",id:"city",value:this.state.city,onChange:this.handleChange}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"postalCode"},"PostalCode ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"postalCode",id:"postalCode",value:this.state.postalCode,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"province"},"State ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"province",id:"province",value:this.state.province,onChange:this.handleChange}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"country"},"Country ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"country",id:"country",value:this.state.country,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"nationality"},"Nationality ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"nationality",id:"nationality",value:this.state.nationality,onChange:this.handleChange}))),r.a.createElement("hr",{className:"mt-4 mb-5"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"emergencyContact"},"Emergency contact person ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"emergencyContact",id:"emergencyContact",value:this.state.emergencyContact,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"emergencyPhone"},"Emergency contact person's phone ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(ce,{name:"emergencyPhone",className:"form-control",validator:function(e){return e.search("_")<0},value:this.state.emergencyPhone,onChange:this.handleChange,errorMessage:{validator:"Use this format 000 000 000"},mask:[/[0-9]/,/[0-9]/,/[0-9]/," ",/[0-9]/,/[0-9]/,/[0-9]/," ",/[0-9]/,/[0-9]/,/[0-9]/]}))),r.a.createElement("hr",{className:"mt-4 mb-5"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("label",{htmlFor:"managerID"},"Manager"),r.a.createElement(re.SelectGroup,{name:"managerID",id:"managerID",required:!0,onChange:this.handleChange},r.a.createElement("option",{value:""},"-- Select one --"),this.state.employees.map(function(a){return r.a.createElement("option",{value:a._id,key:"teamLeaderid-EmployeeAdd-".concat(a._id),selected:e.state.managerID===a._id.toString()?"selected":null},a.name," ",a.surname,"  ")})))),r.a.createElement("div",{className:"form-group pt-4  mb-6"},r.a.createElement("button",{className:"btn btn-primary mr-3",style:{width:"100%"},type:"submit",disabled:this.state.submitDisabled?"disabled":null},"Save changes")))))))}}]),a}(n.Component)),de=w(function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={username:"",password:"",name:"",surname:"",title:"",companyPhone:"",dateStart:"",birthDate:"",gender:"",nationality:"",phone:"",identificationNumber:"",socialSecurityNumber:"",address:"",city:"",postalCode:"",province:"",country:"",emergencyContact:"",emergencyPhone:"",managerID:"",imageUrl:"",submitDisabled:!1,userExists:!1,employees:[]},t.handleChange=function(e){t.setState(Object(ne.a)({},e.target.name,e.target.value))},t.handleChangeDates=function(e){t.setState({birthDate:e})},t.handleSubmit=function(e,a,n){e.preventDefault();var r=t.props.match.params.id,l=t.state,s=l.username,m=l.password,o=l.name,c=l.surname,i=l.title,d=l.companyPhone,u=l.dateStart,p=l.birthDate,h=l.gender,g=l.nationality,E=l.phone,v=l.identificationNumber,y=l.socialSecurityNumber,b=l.address,f=l.city,N=l.postalCode,C=l.province,w=l.country,x=l.emergencyContact,S=l.emergencyPhone,I=l.managerID,k=l.imageUrl;j.employeeUpdate({id:r,username:s,password:m,name:o,surname:c,title:i,companyPhone:d,dateStart:u,birthDate:p,gender:h,nationality:g,phone:E,identificationNumber:v,socialSecurityNumber:y,address:b,city:f,postalCode:N,province:C,country:w,emergencyContact:x,emergencyPhone:S,managerID:I,imageUrl:k}).then(function(e){e.userExists?(window.scrollTo(0,0),t.setState({userExists:e.userExists})):t.props.history.push("/employees")}).catch(function(e){return console.log(e)})},t.handleErrorSubmit=function(e,a,t){console.error(t)},t.matchPassword=function(e){return e&&e===t.state.password},t.fileOnchange=function(e){var a=e.target.files[0],n=new FormData;n.append("photo",a),t.setState({submitDisabled:!0}),j.imageUpload(n).then(function(e){t.setState({imageUrl:e,submitDisabled:!1,submitText:"Save changes"})}).catch(function(e){return console.log(e)})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params.id;j.employeeViewEdit(a).then(function(a){!1===a.permissions?e.props.history.push("/employees"):"error"===a.message?e.props.history.push("/404"):(j.employeesList().then(function(a){e.setState({employees:a})}).catch(function(e){return console.log(e)}),e.setState({username:a.username,name:a.name,surname:a.surname,title:a.title,companyPhone:a.companyPhone,dateStart:a.dateStart,birthDate:a.birthDate,gender:a.gender,nationality:a.nationality,phone:a.phone,identificationNumber:a.identificationNumber,socialSecurityNumber:a.socialSecurityNumber,address:a.address,city:a.city,postalCode:a.postalCode,province:a.province,country:a.country,emergencyContact:a.emergencyContact,emergencyPhone:a.emergencyPhone,managerID:a.managerID,imageUrl:a.imageUrl}))}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,a=this.props.user;return r.a.createElement("div",null,r.a.createElement(W,{pathname:this.props.location.pathname}),r.a.createElement("div",{className:"main-content"},r.a.createElement(G,a),r.a.createElement("div",{className:"main-content-padding"},r.a.createElement("div",{className:"header-body mb-5"},r.a.createElement("h6",{className:"header-pretitle"},"Edit"),r.a.createElement("h1",{className:"header-title"},this.state.name," ",this.state.surname)),r.a.createElement("div",{className:"container p-0 m-0"},r.a.createElement(re.ValidationForm,{onSubmit:this.handleSubmit,onErrorSubmit:this.handleErrorSubmit,style:{maxWidth:"800px"}},r.a.createElement("input",{type:"hidden",id:"id",name:"id",value:this.props.match.params.id}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col",style:{maxWidth:"150px"}},r.a.createElement("div",{className:"avatar avatar-xxl"},r.a.createElement("img",{src:this.state.imageUrl,alt:"...",className:"avatar-img rounded-circle"}))),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0 pt-3"},r.a.createElement("label",{htmlFor:"imageUrl"},"Profile image  ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.FileInput,{name:"imageUrl",id:"imageUrl",onChange:this.fileOnchange,fileType:["jpg","png","jpeg"],maxFileSize:"1000 kb",errorMessage:{fileType:"Only pdf and excel is allowed",maxFileSize:"Max file size is 1000 kb"}}),r.a.createElement("small",{className:"form-text text-muted pt-3"},"The image file should be under 1Mb"))),r.a.createElement("hr",{className:"mt-4 mb-5"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement(re.TextInput,{name:"name",id:"name",required:!0,value:this.state.name,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"surname"},"Surnames"),r.a.createElement(re.TextInput,{name:"surname",id:"surname",minLength:"4",value:this.state.surname,onChange:this.handleChange}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"dateStart"},"Start date"),r.a.createElement(ce,{name:"dateStart",className:"form-control",required:!0,validator:function(e){return e.search("_")<0},value:this.state.dateStart,onChange:this.handleChange,errorMessage:{validator:"Please enter dd/mm/yyyy"},mask:[/[0-3]/,/[1-9]/,"/",/[0-1]/,/[0-9]/,"/",/[1-2]/,/[0-9]/,/[0-9]/,/[0-9]/]})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{className:"pb-2"},"Gender"),r.a.createElement(re.Radio.RadioGroup,{name:"gender",required:!0,valueSelected:this.state.gender,onChange:this.handleChange},">",r.a.createElement(re.Radio.RadioItem,{id:"male",name:"male",value:"male",label:"Male"}),r.a.createElement(re.Radio.RadioItem,{id:"female",name:"female",value:"female",label:"Female"})))),r.a.createElement("hr",{className:"mt-4 mb-5"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement(re.TextInput,{name:"title",id:"title",minLength:"4",value:this.state.title,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"companyPhone"},"Company phone ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(ce,{name:"companyPhone",className:"form-control",validator:function(e){return e.search("_")<0},value:this.state.companyPhone,onChange:this.handleChange,errorMessage:{validator:"Use this format 000 000 000"},mask:[/[0-9]/,/[0-9]/,/[0-9]/," ",/[0-9]/,/[0-9]/,/[0-9]/," ",/[0-9]/,/[0-9]/,/[0-9]/]}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"username"},"Email"),r.a.createElement(re.TextInput,{name:"username",id:"username",type:"email",validator:se.a.isEmail,errorMessage:{validator:"Please enter a valid email"},value:this.state.username,onChange:this.handleChange}),this.state.userExists?r.a.createElement("small",{className:"text-danger"},"User already exist"):""),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"password"},"New password ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"password",id:"password",type:"password",pattern:"(?=.*[A-Z]).{6,}",errorMessage:{required:"Password is required",pattern:"Password should be at least 6 characters and contains at least one upper case letter"},value:this.state.password,onChange:this.handleChange}))),r.a.createElement("hr",{className:"mt-4 mb-5"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"identificationNumber"},"Identification Number ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"identificationNumber",id:"identificationNumber",value:this.state.identificationNumber,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"socialSecurityNumber"},"Social security Number ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"socialSecurityNumber",id:"socialSecurityNumber",value:this.state.socialSecurityNumber,onChange:this.handleChange}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"phone"},"Personal phone ",r.a.createElement("small",{className:"text-muted"},"(optional)")," "),r.a.createElement(ce,{name:"phone",className:"form-control",validator:function(e){return e.search("_")<0},value:this.state.phone,onChange:this.handleChange,errorMessage:{validator:"Use this format 000 000 000"},mask:[/[0-9]/,/[0-9]/,/[0-9]/," ",/[0-9]/,/[0-9]/,/[0-9]/," ",/[0-9]/,/[0-9]/,/[0-9]/]})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"birthDate"},"Birth date  ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(ce,{name:"birthDate",className:"form-control",validator:function(e){return e.search("_")<0},value:this.state.birthDate,onChange:this.handleChange,errorMessage:{validator:"Please enter dd/mm/yyyy"},mask:[/[0-3]/,/[1-9]/,"/",/[0-1]/,/[0-9]/,"/",/[1-2]/,/[0-9]/,/[0-9]/,/[0-9]/]}))),r.a.createElement("hr",{className:"mt-4 mb-5"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"address"},"Address ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"address",id:"address",value:this.state.address,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"city"},"City ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"city",id:"city",value:this.state.city,onChange:this.handleChange}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"postalCode"},"PostalCode ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"postalCode",id:"postalCode",value:this.state.postalCode,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"province"},"State ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"province",id:"province",value:this.state.province,onChange:this.handleChange}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"country"},"Country ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"country",id:"country",value:this.state.country,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"nationality"},"Nationality ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"nationality",id:"nationality",value:this.state.nationality,onChange:this.handleChange}))),r.a.createElement("hr",{className:"mt-4 mb-5"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"emergencyContact"},"Emergency contact person ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"emergencyContact",id:"emergencyContact",value:this.state.emergencyContact,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"emergencyPhone"},"Emergency contact person's phone ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(ce,{name:"emergencyPhone",className:"form-control",validator:function(e){return e.search("_")<0},value:this.state.emergencyPhone,onChange:this.handleChange,errorMessage:{validator:"Use this format 000 000 000"},mask:[/[0-9]/,/[0-9]/,/[0-9]/," ",/[0-9]/,/[0-9]/,/[0-9]/," ",/[0-9]/,/[0-9]/,/[0-9]/]}))),r.a.createElement("hr",{className:"mt-4 mb-5"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("label",{htmlFor:"managerID"},"Manager"),r.a.createElement(re.SelectGroup,{name:"managerID",id:"managerID",required:!0,onChange:this.handleChange},r.a.createElement("option",{value:""},"-- Select one --"),this.state.employees.map(function(a){return r.a.createElement("option",{value:a._id,key:"teamLeaderid-EmployeeEdit-".concat(a._id),selected:e.state.managerID===a._id.toString()?"selected":null},a.name," ",a.surname,"  ")})))),r.a.createElement("div",{className:"form-group pt-4  mb-6"},r.a.createElement("button",{className:"btn btn-primary mr-3",style:{width:"100%"},type:"submit",disabled:this.state.submitDisabled?"disabled":null},"Save changes")))))))}}]),a}(n.Component)),ue=w(function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={username:"",name:"",surname:"",title:"",companyPhone:"",dateStart:"",birthDate:"",managerID:"",imageUrl:""},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params.id;j.employeeView(a).then(function(a){!1===a.permissions?e.props.history.push("/employees"):"error"===a.message?e.props.history.push("/404"):e.setState({username:a.username,name:a.name,surname:a.surname,title:a.title,companyPhone:a.companyPhone,dateStart:a.dateStart,birthDate:a.birthDate,managerID:a.managerID,imageUrl:a.imageUrl})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",null,r.a.createElement(W,null),r.a.createElement("div",{className:"main-content"},r.a.createElement(G,e),r.a.createElement("div",{className:"container pt-4 d-flex justify-content-center"},r.a.createElement("div",{className:"card",style:{maxWidth:"600px"}},r.a.createElement("img",{src:"https://res.cloudinary.com/fabionunez/image/upload/v1558809492/staff/background_ple0qi.png",alt:"...",className:"card-img-top"}),r.a.createElement("div",{className:"card-body text-center pb-0"},r.a.createElement("a",{href:"profile-posts.html",className:"avatar-custom card-avatar card-avatar-top-custom",style:{}},r.a.createElement("img",{src:this.state.imageUrl,className:"avatar-img rounded-circle border border-5 border-card",alt:"..."})),r.a.createElement("h2",{className:"card-title"},r.a.createElement("a",{href:"profile-posts.html",style:{}},this.state.name," ",this.state.surname)),r.a.createElement("p",null,r.a.createElement("small",null,this.state.title)),r.a.createElement("hr",null)),r.a.createElement("div",{className:"card-body pt-0"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h5",{className:"mb-0"},"Birthday")),r.a.createElement("div",{className:"col-auto"},r.a.createElement("span",{className:"small text-muted"},this.state.birthDate?this.state.birthDate:"Not introduced"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h5",{className:"mb-0"},"Joined")),r.a.createElement("div",{className:"col-auto"},r.a.createElement("span",{className:"small text-muted"},this.state.dateStart))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h5",{className:"mb-0"},"E-mail")),r.a.createElement("div",{className:"col-auto"},r.a.createElement("span",{className:"small text-muted"},this.state.username))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h5",{className:"mb-0"},"Office phone")),r.a.createElement("div",{className:"col-auto"},r.a.createElement("span",{className:"small text-muted"},this.state.companyPhone?this.state.companyPhone:"Not introduced"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("a",{className:"btn btn-primary d-block",href:"mailto:{this.state.username}",role:"button"},"Contact")))," ")))))}}]),a}(n.Component)),pe=new(function(){function e(){Object(o.a)(this,e),this.auth=y.a.create({baseURL:"https://staff-ironhack.herokuapp.com",withCredentials:!0})}return Object(c.a)(e,[{key:"companyUpdate",value:function(e){var a=e.tradeName,t=e.corporateName,n=e.taxIdNumber,r=e.address,l=e.city,s=e.postalCode,m=e.province,o=e.country,c=e.imageUrl;return this.auth.put("/company",{tradeName:a,corporateName:t,taxIdNumber:n,address:r,city:l,postalCode:s,province:m,country:o,imageUrl:c}).then(function(e){return e.data})}},{key:"companyView",value:function(e){return this.auth.get("/company").then(function(e){return e.data})}},{key:"imageUpload",value:function(e){return this.auth.post("/company/image",e).then(function(e){return e.data})}},{key:"logoView",value:function(e){return this.auth.get("/company/logo").then(function(e){return e.data})}}]),e}()),he=w(function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={tradeName:"",corporateName:"",taxIdNumber:"",address:"",city:"",postalCode:"",province:"",country:"",imageUrl:"",submitDisabled:!1},t.handleChange=function(e){t.setState(Object(ne.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e,a,n){e.preventDefault();var r=t.state,l=r.tradeName,s=r.corporateName,m=r.taxIdNumber,o=r.address,c=r.city,i=r.postalCode,d=r.province,u=r.country,p=r.imageUrl;pe.companyUpdate({tradeName:l,corporateName:s,taxIdNumber:m,address:o,city:c,postalCode:i,province:d,country:u,imageUrl:p}).then(function(){window.scroll(0,window.pageYOffset-t.props.scrollStepInPx),t.props.history.push("/company"),t.setState({confirm:!0})}).catch(function(e){return console.log(e)})},t.handleErrorSubmit=function(e,a,t){},t.matchPassword=function(e){return e&&e===t.state.password},t.fileOnchange=function(e){var a=e.target.files[0],n=new FormData;n.append("photo",a),t.setState({submitDisabled:!0}),pe.imageUpload(n).then(function(e){t.setState({imageUrl:e,submitDisabled:!1,submitText:"Save changes"})}).catch(function(e){return console.log(e)})},t.defaultLogo=function(){t.setState({imageUrl:"/img/logo.svg"})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.user;pe.companyView(a._id).then(function(a){null===a?e.props.history.push("/404"):e.setState({tradeName:a.tradeName,corporateName:a.corporateName,taxIdNumber:a.taxIdNumber,address:a.address,city:a.city,postalCode:a.postalCode,province:a.province,country:a.country,imageUrl:a.imageUrl,confirm:!1})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",null,r.a.createElement(W,{pathname:this.props.location.pathname}),r.a.createElement("div",{className:"main-content"},r.a.createElement(G,e),r.a.createElement("div",{className:"main-content-padding"},r.a.createElement("div",{className:"header-body mb-5"},r.a.createElement("h6",{className:"header-pretitle"},"Edit"),r.a.createElement("h1",{className:"header-title"},"Company")),r.a.createElement("div",{className:"container p-0 m-0"},this.state.confirm?r.a.createElement("div",{class:"alert alert-success",role:"alert",style:{maxWidth:"800px"}},"Changes saved!"):"",r.a.createElement(re.ValidationForm,{onSubmit:this.handleSubmit,onErrorSubmit:this.handleErrorSubmit,style:{maxWidth:"800px"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"company-photo"},r.a.createElement("img",{src:void 0===this.state.imageUrl?"/img/logo.svg":this.state.imageUrl,alt:"..."}))),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0 pt-3"},r.a.createElement("label",{htmlFor:"imageUrl"},"Company logo  ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.FileInput,{name:"imageUrl",id:"imageUrl",onChange:this.fileOnchange,fileType:["jpg","png","jpeg"],maxFileSize:"1000 kb",errorMessage:{fileType:"Only pdf and excel is allowed",maxFileSize:"Max file size is 1000 kb"}}),r.a.createElement("small",{className:"form-text text-muted pt-3"},"The image file should be under 1Mb"),void 0===this.state.imageUrl||"/img/logo.svg"===this.state.imageUrl?"":r.a.createElement("button",{className:"btn btn-link",onClick:this.defaultLogo},"Default logo"))),r.a.createElement("hr",{className:"mt-4 mb-5"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"corporateName"},"Corporate name"),r.a.createElement(re.TextInput,{name:"corporateName",id:"corporateName",required:!0,value:this.state.corporateName,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"tradeName"},"Trade name ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"tradeName",id:"tradeName",value:this.state.tradeName,onChange:this.handleChange}))),r.a.createElement("hr",{className:"mt-4 mb-5"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"address"},"Adress ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"address",id:"address",value:this.state.address,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"postalCode"},"Postal code ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"postalCode",id:"postalCode",value:this.state.postalCode,onChange:this.handleChange}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"city"},"City ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"city",id:"city",value:this.state.city,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"province"},"Province ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"province",id:"province",value:this.state.province,onChange:this.handleChange}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"province"},"Province"),r.a.createElement(re.TextInput,{name:"province",id:"province",value:this.state.province,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"country"},"Country"),r.a.createElement(re.TextInput,{name:"country",id:"country",value:this.state.country,onChange:this.handleChange}))),r.a.createElement("hr",{className:"mt-4 mb-5"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"taxIdNumber"},"Tax ID number ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"taxIdNumber",id:"taxIdNumber",value:this.state.taxIdNumber,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"})),r.a.createElement("hr",{className:"mt-4 mb-5"}),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary",type:"submit",style:{width:"100%"},disabled:this.state.submitDisabled?"disabled":null},"Save changes")))))))}}]),a}(n.Component)),ge=new(function(){function e(){Object(o.a)(this,e),this.auth=y.a.create({baseURL:"https://staff-ironhack.herokuapp.com",withCredentials:!0})}return Object(c.a)(e,[{key:"teamList",value:function(){return this.auth.get("/team/list").then(function(e){return e.data})}},{key:"teamAdd",value:function(e){var a=e.name,t=e.usersIds,n=e.teamLeaderid,r=e.companyId,l=e.mission,s=e.vision;return this.auth.post("/team/new",{name:a,usersIds:t,teamLeaderid:n,companyId:r,mission:l,vision:s}).then(function(e){return e.data})}},{key:"teamView",value:function(e){return this.auth.get("/team/view/".concat(e)).then(function(e){return e.data})}},{key:"teamUpdate",value:function(e){var a=e.id,t=e.name,n=e.usersIds,r=e.teamLeaderid,l=e.companyId,s=e.mission,m=e.vision;return this.auth.put("/team/edit",{id:a,name:t,usersIds:n,teamLeaderid:r,companyId:l,mission:s,vision:m}).then(function(e){return e.data})}},{key:"teamDelete",value:function(e){return this.auth.delete("/team/delete/".concat(e)).then(function(e){return e.data})}}]),e}());function Ee(e){return r.a.createElement("li",{className:"list-group-item px-0"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-auto ml-4 pr-0 d-flex justify-content-end",style:{minWidth:"100px"}},r.a.createElement($.a,{className:"custom-tooltip"}),r.a.createElement("div",{className:"avatar-group"},e.usersIds.slice(0,3).map(function(e){return r.a.createElement("span",{key:"team-member-".concat(e.name),className:"avatar avatar-xs","data-tip":"".concat(e.name)},r.a.createElement("img",{src:e.imageUrl,className:"avatar-img rounded-circle",alt:"..."}))}),e.usersIds.length>3?r.a.createElement("div",{className:"avatar avatar-xs"},r.a.createElement(k.a,{style:{fontSize:"11px"},to:"/teams/edit/".concat(e._id),"data-tip":"And ".concat(e.usersIds.length-3," more"),className:"avatar-title rounded-circle"},"+",e.usersIds.length-3)):"")),r.a.createElement("div",{className:"col"},r.a.createElement("h4",{className:"mb-1 name"},r.a.createElement(k.a,{className:"stretched-link",to:"/teams/edit/".concat(e._id)},e.name))),e.userCanDelete()&&!e.isItenAdmin?r.a.createElement("div",{className:"col-auto mr-4"},r.a.createElement("button",{className:"btn btn-sm btn-white",onClick:function(){return e.handleDeleting(e._id)},title:"Delete employee"},r.a.createElement(H.a,{color:"grey",size:15}))):""))}function ve(e){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body pl-0 pr-0"},r.a.createElement("ul",{className:"list-group list-group-flush list my-n3"},e.teams.map(function(a){return r.a.createElement(Ee,Object.assign({},a,{key:a._id,isAdmin:e.isAdmin,handleDeleting:e.handleDeleting,getAllTeams:e.getAllTeams,userCanDelete:e.userCanDelete}))}))))}var ye=w(function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={teams:[]},t.getAllTeams=function(){ge.teamList().then(function(e){t.setState({teams:e})}).catch(function(e){return console.log(e)})},t.userCanDelete=function(){var e=t.props.user.isAdmin;return e||null},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getAllTeams()}},{key:"handleDeleting",value:function(e){var a=this;ge.teamDelete(e).then(function(e){a.getAllTeams()}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",null,r.a.createElement(W,{pathname:this.props.location.pathname}),r.a.createElement("div",{className:"main-content"},r.a.createElement(G,e),r.a.createElement("div",{className:"main-content-padding"},r.a.createElement("div",{className:"header-body header-employees"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h6",{className:"header-pretitle"},"All"),r.a.createElement("h1",{className:"header-title"},"Teams ",r.a.createElement("span",{className:"badge badge-soft-secondary",style:{fontSize:"10px"}},this.state.teams.length))),e.isAdmin?r.a.createElement("div",{className:"col-auto"},r.a.createElement(k.a,{to:"/teams/add",className:"btn btn-primary"},r.a.createElement(D.a,{size:20,color:"white",className:"mr-2"}),"Add team ")):"")),r.a.createElement(ve,Object.assign({},this.state,{handleDeleting:this.handleDeleting,getAllTeams:this.getAllTeams,userCanDelete:this.userCanDelete})))))}}]),a}(n.Component));function be(e){return r.a.createElement("li",{id:"li-".concat(e._id),onClick:function(){return e.updateSelectEmployees(e._id)},className:1===e.usersIds.filter(function(a){return a.includes(e._id)}).length?"list-group-item px-0 itemSelected":"list-group-item px-0"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-auto ml-4"},r.a.createElement("input",{checked:1===e.usersIds.filter(function(a){return a.includes(e._id)}).length?"checked":null,onChange:function(){return e.updateSelectEmployees(e._id)},type:"checkbox",className:"selectedEmployees",value:e._id,id:e._id})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("span",{className:"avatar"},r.a.createElement("img",{src:e.imageUrl,alt:"...",className:"avatar-img rounded-circle"}))),r.a.createElement("div",{className:"col ml-n2"},r.a.createElement("h4",{className:"mb-1 name"},e.name," ",e.surname),r.a.createElement("p",{className:"small mb-0"},e.title))))}function fe(e){var a=e.employees.filter(function(a){return(a.name+" "+a.surname).toLowerCase().includes(e.keyword.toLowerCase())});return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("form",null,r.a.createElement("div",{className:"input-group input-group-flush input-group-merge"},r.a.createElement("input",{id:"search-employees",onChange:e.updateKeyword,type:"search",className:"form-control form-control-prepended search",placeholder:"Search"}),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},r.a.createElement(Z.a,{size:18})))))),r.a.createElement("div",{className:"card-body pr-0 pl-0 pt-3 pb-3"},r.a.createElement("ul",{className:"list-group list-group-flush list my-n3"},a.map(function(a){return r.a.createElement(be,Object.assign({},e,a,{key:"select-employee-".concat(a._id),selectAndChangeStyle:e.selectAndChangeStyle,itemSelected:e.itemSelected,getAllEmployees:e.getAllEmployees,updateSelectEmployees:e.updateSelectEmployees}))}),0===a.length&&e.keyword.length>0?r.a.createElement("p",{className:"text-center pt-5 text-muted"},"No employees found"):"")))}var Ne=w(function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={id:"",name:"",usersIds:[],usersIdsObj:[],teamLeaderid:"",companyId:t.props.user.companyID,mission:"",vision:"",employees:[],keyword:"",filterEmployees:[]},t.getAllEmployees=function(){j.employeesList().then(function(e){t.setState({employees:e})}).catch(function(e){return console.log(e)})},t.handleChange=function(e){t.setState(Object(ne.a)({},e.target.name,e.target.value))},t.updateKeyword=function(e){t.setState({keyword:e.target.value})},t.handleSubmit=function(e,a,n){e.preventDefault();var r=t.state,l=r.id,s=r.name,m=r.usersIds,o=r.teamLeaderid,c=r.companyId,i=r.mission,d=r.vision;ge.teamUpdate({id:l,name:s,usersIds:m,teamLeaderid:o,companyId:c,mission:i,vision:d}).then(function(e){t.props.history.push("/teams")}).catch(function(e){return console.log(e)})},t.handleErrorSubmit=function(e,a,t){console.error(t)},t.updateSelectEmployees=function(e){var a=t.state.usersIds.slice(0);void 0===t.state.usersIds.find(function(a){return a===e})?(a.push(e),t.setState({usersIds:a})):(a.splice(a.indexOf(e),1),t.setState({usersIds:a}))},t.selectAndChangeStyle=function(e){},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params.id;ge.teamView(a).then(function(a){var t=a.usersIds.map(function(e){return e._id.toString()});e.setState({id:a._id,name:a.name,teamLeaderid:a.teamLeaderid,usersIdsObj:a.usersIds,usersIds:t,mission:a.mission,vision:a.vision})}).catch(function(e){return console.log(e)}),this.getAllEmployees()}},{key:"render",value:function(){var e=this,a=this.props.user;return r.a.createElement("div",null,r.a.createElement(W,{pathname:this.props.location.pathname}),r.a.createElement("div",{className:"main-content"},r.a.createElement(G,a),r.a.createElement("div",{className:"main-content-padding"},r.a.createElement("div",{className:"header-body mb-5"},r.a.createElement("h6",{className:"header-pretitle"},"Edit"),r.a.createElement("h1",{className:"header-title"},this.state.name)),r.a.createElement("div",{className:"container p-0 m-0"},r.a.createElement(re.ValidationForm,{onSubmit:this.handleSubmit,onErrorSubmit:this.handleErrorSubmit,style:{maxWidth:"800px"}},r.a.createElement("input",{type:"hidden",id:"id",name:"id",value:this.props.match.params.id}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"name"},"Team's name"),r.a.createElement(re.TextInput,{name:"name",id:"name",required:!0,value:this.state.name,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"teamLeaderid"},"Team leader"),r.a.createElement(re.SelectGroup,{name:"teamLeaderid",id:"teamLeaderid",required:!0,onChange:this.handleChange},r.a.createElement("option",{value:""},"-- Select one --"),this.state.employees.map(function(a){return r.a.createElement("option",{value:a._id,key:"teamLeaderid-TeamEdit-".concat(a._id),selected:e.state.teamLeaderid===a._id.toString()?"selected":null},a.name," ",a.surname,"  ")})))),r.a.createElement("hr",{className:"mt-4 mb-5"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"mission"},"Mission ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"mission",id:"mission",multiline:!0,value:this.state.mission,onChange:this.handleChange,rows:"4"})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"vision"},"vision ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"vision",id:"vision",multiline:!0,value:this.state.vision,onChange:this.handleChange,rows:"4"}))),r.a.createElement("hr",{className:"mt-4 mb-5"}),r.a.createElement("label",null,"Select employees"),r.a.createElement(fe,Object.assign({},this.state,{selectAndChangeStyle:this.selectAndChangeStyle,updateKeyword:this.updateKeyword,getAllEmployees:this.getAllEmployees,updateSelectEmployees:this.updateSelectEmployees})),r.a.createElement("div",{className:"form-group pt-4  mb-6"},r.a.createElement("button",{className:"btn btn-primary mr-3",style:{width:"100%"},type:"submit",disabled:this.state.submitDisabled?"disabled":null},"Save team")))))))}}]),a}(n.Component)),Ce=w(function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={id:"",name:"",usersIds:[],usersIdsObj:[],teamLeaderid:"",companyId:t.props.user.companyID,mission:"",vision:"",employees:[],keyword:"",filterEmployees:[]},t.getAllEmployees=function(){j.employeesList().then(function(e){t.setState({employees:e})}).catch(function(e){return console.log(e)})},t.handleChange=function(e){t.setState(Object(ne.a)({},e.target.name,e.target.value))},t.updateKeyword=function(e){t.setState({keyword:e.target.value})},t.handleSubmit=function(e,a,n){e.preventDefault();var r=t.state,l=r.name,s=r.usersIds,m=r.teamLeaderid,o=r.companyId,c=r.mission,i=r.vision;ge.teamAdd({name:l,usersIds:s,teamLeaderid:m,companyId:o,mission:c,vision:i}).then(function(e){t.props.history.push("/teams")}).catch(function(e){return console.log(e)})},t.handleErrorSubmit=function(e,a,t){},t.updateSelectEmployees=function(e){var a=t.state.usersIds.slice(0);void 0===t.state.usersIds.find(function(a){return a===e})?(a.push(e),t.setState({usersIds:a})):(a.splice(a.indexOf(e),1),t.setState({usersIds:a}))},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getAllEmployees()}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",null,r.a.createElement(W,{pathname:this.props.location.pathname}),r.a.createElement("div",{className:"main-content"},r.a.createElement(G,e),r.a.createElement("div",{className:"main-content-padding"},r.a.createElement("div",{className:"header-body mb-5"},r.a.createElement("h6",{className:"header-pretitle"},"Add"),r.a.createElement("h1",{className:"header-title"},"New team")),r.a.createElement("div",{className:"container p-0 m-0"},r.a.createElement(re.ValidationForm,{onSubmit:this.handleSubmit,onErrorSubmit:this.handleErrorSubmit,style:{maxWidth:"800px"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"name"},"Team's name"),r.a.createElement(re.TextInput,{name:"name",id:"name",required:!0,value:this.state.name,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"teamLeaderid"},"Team leader"),r.a.createElement(re.SelectGroup,{name:"teamLeaderid",id:"teamLeaderid",required:!0,onChange:this.handleChange},r.a.createElement("option",{value:""},"-- Select one --"),this.state.employees.map(function(e){return r.a.createElement("option",{value:e._id,key:"teamLeaderid-TeamAdd-".concat(e._id)},e.name," ",e.surname," ")})))),r.a.createElement("hr",{className:"mt-4 mb-5"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"mission"},"Mission ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"mission",id:"mission",multiline:!0,value:this.state.mission,onChange:this.handleChange,rows:"4"})),r.a.createElement("div",{className:"form-group col-12 col-md-6 pr-lg-4 pr-sm-0"},r.a.createElement("label",{htmlFor:"vision"},"vision ",r.a.createElement("small",{className:"text-muted"},"(optional)")),r.a.createElement(re.TextInput,{name:"vision",id:"vision",multiline:!0,value:this.state.vision,onChange:this.handleChange,rows:"4"}))),r.a.createElement("hr",{className:"mt-4 mb-5"}),r.a.createElement("label",null,"Select employees"),r.a.createElement(fe,Object.assign({},this.state,{updateKeyword:this.updateKeyword,getAllEmployees:this.getAllEmployees,updateSelectEmployees:this.updateSelectEmployees})),r.a.createElement("div",{className:"form-group pt-4  mb-6"},r.a.createElement("button",{className:"btn btn-primary mr-3",style:{width:"100%"},type:"submit",disabled:this.state.submitDisabled?"disabled":null},"Save team")))))))}}]),a}(n.Component)),we=t(59),xe=t.n(we),Se=w(function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={employees:[],keyword:"",filterEmployees:[]},t.getAllEmployees=function(){j.employeesList().then(function(e){t.setState({employees:e})}).catch(function(e){return console.log(e)})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",null,r.a.createElement(W,{pathname:this.props.location.pathname}),r.a.createElement("div",{className:"main-content"},r.a.createElement(G,e),r.a.createElement("div",{className:"main-content-padding"},r.a.createElement("div",{className:"header-body header-employees"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h6",{className:"header-pretitle"},"All"),r.a.createElement("h1",{className:"header-title"},"Stats")))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"alert alert-light",role:"alert"},r.a.createElement(xe.a,{color:"#283e59",size:20,className:"mb-1 mr-2"})," Too much for the nvp ;)"))))))}}]),a}(n.Component));function Ie(){return r.a.createElement("div",{className:"row justify-content-center border-top border-top-2 border-primary"},r.a.createElement("div",{className:"col-12 col-md-5 col-xl-4 my-5"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h6",{className:"text-uppercase text-muted mb-4"},"404 error"),r.a.createElement("h1",{className:"display-4 mb-3"},"There\u2019s no page here ",r.a.createElement("span",{role:"img","aria-label":"emoji cry","aria-labelledby":"emoji cry"},"\ud83d\ude2d")),r.a.createElement("p",{className:"text-muted mb-4"},"Looks like you ended up here by accident?"),r.a.createElement("a",{href:"/",className:"btn btn-lg btn-primary"},"Return to your dashboard"))))}var ke=t(28),je=t.n(ke),Oe=w(function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={name:"",surname:"",email:"",password:"",confirmPassword:"",corporateName:"",imageUrl:"https://res.cloudinary.com/fabionunez/image/upload/v1558806598/staff/user2_e4pwrt.svg"},t.handleChange=function(e){t.setState(Object(ne.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e,a,n){e.preventDefault();var r=t.state.name,l=t.state.surname,s=t.state.username,m=t.state.password,o=t.state.corporateName,c=t.state.imageUrl;t.props.signup({name:r,surname:l,corporateName:o,username:s,password:m,imageUrl:c}).then(function(){t.setState({name:"",surname:"",email:"",password:"",confirmPassword:"",corporateName:""})}).catch(function(e){return console.log(e)})},t.handleErrorSubmit=function(e,a,t){console.error(t)},t.matchPassword=function(e){return e&&e===t.state.password},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"row justify-content-center  border-top border-top-2 border-primary"},r.a.createElement("div",{className:"col-12 col-md-5 col-xl-4 my-5  text-center align-items-center p-4"},r.a.createElement("img",{src:je.a,className:"text-center pb-5",style:{width:"300px"},alt:"..."}),r.a.createElement("h1",{className:"display-4 text-center mb-3"},"Sign up"),r.a.createElement("p",{className:"text-muted text-center mb-5"},"Human resource manager toolkit."),r.a.createElement(re.ValidationForm,{className:"text-left",onSubmit:this.handleSubmit,onErrorSubmit:this.handleErrorSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement(re.TextInput,{name:"name",id:"name",required:!0,placeholder:"Name",value:this.state.name,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement(re.TextInput,{name:"surname",id:"surname",minLength:"3",placeholder:"Surname",value:this.state.surname,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement(re.TextInput,{name:"username",id:"username",type:"email",placeholder:"E-mail",validator:se.a.isEmail,errorMessage:{validator:"Please enter a valid email"},value:this.state.username,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement(re.TextInput,{name:"password",id:"password",type:"password",required:!0,placeholder:"Password",pattern:"(?=.*[A-Z]).{6,}",errorMessage:{required:"Password is required",pattern:"Password should be at least 6 characters and contains at least one upper case letter"},value:this.state.password,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement(re.TextInput,{name:"confirmPassword",id:"confirmPassword",type:"password",required:!0,placeholder:"Confirm Password",validator:this.matchPassword,errorMessage:{required:"Confirm password is required",validator:"Password does not match"},value:this.state.confirmPassword,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement(re.TextInput,{name:"corporateName",id:"corporateName",required:!0,placeholder:"Company name",value:this.state.company,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary",style:{width:"100%"},type:"submit"},"Submit"))),r.a.createElement("div",{className:"text-center"},r.a.createElement("small",{className:"text-muted text-center"},"Already have an account? ",r.a.createElement(k.a,{to:"/"}," Sign in"),"."))))}}]),a}(n.Component)),De=w(function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={username:"",password:"",immediate:!1},t.handleChange=function(e){t.setState(Object(ne.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e,a,n){e.preventDefault();var r=t.state.username,l=t.state.password;t.props.login({username:r,password:l}).then(function(){t.setState({username:"",password:""})}).catch(function(e){return console.log(e)})},t.handleErrorSubmit=function(e,a,t){console.error(t)},t.matchPassword=function(e){return e&&e===t.state.password},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"row justify-content-center  border-top border-top-2 border-primary align-items-center p-4",style:{height:"100vh"}},r.a.createElement("div",{className:"col-12 col-md-5 col-xl-4 my-5 text-center"},r.a.createElement("img",{src:je.a,className:"text-center pb-5",style:{width:"300px"},alt:"..."}),r.a.createElement("h1",{className:"display-4 text-center mb-3"},"Sign in"),r.a.createElement("p",{className:"text-muted text-center mb-5"},"Enter in your private dashboard."),r.a.createElement(re.ValidationForm,{immediate:this.state.immediate,className:"text-left",onSubmit:this.handleSubmit,onErrorSubmit:this.handleErrorSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement(re.TextInput,{name:"username",id:"username",type:"email",placeholder:"E-mail",validator:se.a.isEmail,errorMessage:{validator:"Please enter a valid email"},value:this.state.username,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement(re.TextInput,{name:"password",id:"password",type:"password",required:!0,placeholder:"Password",pattern:"(?=.*[A-Z]).{6,}",errorMessage:{required:"Password is required",pattern:"Password should be at least 6 characters and contains at least one upper case letter"},value:this.state.password,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary",style:{width:"100%"},type:"submit"},"Sign in"))),r.a.createElement("div",{className:"text-center"},r.a.createElement("small",{className:"text-muted text-center"},"Are you a human resource manager? ",r.a.createElement(k.a,{to:"/signup"}," Sign up"),"."))))}}]),a}(n.Component)),Ue=(t(160),function(e){function a(){return Object(o.a)(this,a),Object(i.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(x,null,r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(I,{path:"/signup",component:Oe}),r.a.createElement(I,{exact:!0,path:"/",component:De}),r.a.createElement(S,{path:"/employees",component:te}),r.a.createElement(S,{path:"/employee/add",component:ie}),r.a.createElement(S,{path:"/employee/edit/:id",component:de}),r.a.createElement(S,{path:"/employee/view/:id",component:ue}),r.a.createElement(S,{path:"/company",component:he}),r.a.createElement(S,{exact:!0,path:"/teams",component:ye}),r.a.createElement(S,{path:"/teams/add",component:Ce}),r.a.createElement(S,{path:"/teams/edit/:id",component:Ne}),r.a.createElement(S,{path:"/stats",component:Se}),r.a.createElement(h.a,{component:Ie}))))}}]),a}(n.Component));s.a.render(r.a.createElement(m.a,null,r.a.createElement(Ue,null)),document.getElementById("root"))},28:function(e,a,t){e.exports=t.p+"static/media/logo.8fdaa260.svg"},60:function(e,a,t){e.exports=t(162)}},[[60,2,1]]]);
//# sourceMappingURL=main.85fca27d.chunk.js.map